<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>0x01 - Analyzing SDR - NSE Lab</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>0x01 - Analyzing SDR | NSE Lab</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="0x01 - Analyzing SDR" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation for the Division of Network and Systems Engineering’s Cyber Security Lab at KTH" /> <meta property="og:description" content="Documentation for the Division of Network and Systems Engineering’s Cyber Security Lab at KTH" /> <link rel="canonical" href="http://localhost:4000/pages/guides/radio/sdr.html" /> <meta property="og:url" content="http://localhost:4000/pages/guides/radio/sdr.html" /> <meta property="og:site_name" content="NSE Lab" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="0x01 - Analyzing SDR" /> <script type="application/ld+json"> {"@type":"WebPage","description":"Documentation for the Division of Network and Systems Engineering’s Cyber Security Lab at KTH","headline":"0x01 - Analyzing SDR","url":"http://localhost:4000/pages/guides/radio/sdr.html","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> NSE Lab </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/pages/thesis_guidelines/guidelines.html" class="nav-list-link">Thesis Guidelines</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/registration.html" class="nav-list-link">Registration</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/objective.html" class="nav-list-link">Objective</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/choice_of_system.html" class="nav-list-link">Choice of System to Explore</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/things_to_hack.html" class="nav-list-link">Things to hack</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/purchase_form.html" class="nav-list-link">Purchase Form</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/delimitations.html" class="nav-list-link">Delimitations</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/method.html" class="nav-list-link">Method</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/related_work.html" class="nav-list-link">Related work</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/thesis_report.html" class="nav-list-link">Thesis Report</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/threat_traceability_matrix.html" class="nav-list-link">Threat Traceability Matrix</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/grading_criteria.html" class="nav-list-link">Grading criteria</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/language.html" class="nav-list-link">Language</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/tutoring.html" class="nav-list-link">Tutoring</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/responsible_disclosure.html" class="nav-list-link">Responsible disclosure</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/the_law.html" class="nav-list-link">The Law</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/thesis_guidelines/lab.html" class="nav-list-link">Cyber Security Lab</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/pages/guides/hacking_guides.html" class="nav-list-link">Hacking Guides</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/pages/guides/pentest-process-planning.html" class="nav-list-link">Planning</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/guides/pentest-process-exploit.html" class="nav-list-link">Exploitation</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/guides/pentest-process-report.html" class="nav-list-link">Reporting</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/pages/guides/Wireless/wireless.html" class="nav-list-link">Wireless Hacking</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/Wireless/wifi-mitm.html" class="nav-list-link">Wi-Fi MITM</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/Wireless/bluetooth.html" class="nav-list-link">Bluetooth</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/Wireless/lte-hacking.html" class="nav-list-link">Overview of LTE Hacking</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/Wireless/soho-device_exploitation.html" class="nav-list-link">SOHO Device Exploitation</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/pages/guides/hardware/hardware.html" class="nav-list-link">Hardware Hacking</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/hardware/uart.html" class="nav-list-link">0x01 - Analyzing UART</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/hardware/i2c.html" class="nav-list-link">0x02 - Analyzing I2C</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/hardware/spi.html" class="nav-list-link">0x03 - Analyzing SPI</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/hardware/jtag.html" class="nav-list-link">0x04 - Analyzing JTAG</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/hardware/emmc.html" class="nav-list-link">0x05 - Analyzing eMMC</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/hardware/hardware_hacking.html" class="nav-list-link">0x06 - Useful links and tutorials</a> </li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/pages/guides/radio/radio.html" class="nav-list-link">Radio Hacking</a><ul class="nav-list"><li class="nav-list-item active"> <a href="http://localhost:4000/pages/guides/radio/sdr.html" class="nav-list-link active">0x01 - Analyzing SDR</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/radio/zigbee.html" class="nav-list-link">0x02 - Analyzing ZigBee</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/radio/ble.html" class="nav-list-link">0x03 - Analyzing BLE</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/pages/guides/fuzzing/fuzzing.html" class="nav-list-link">Fuzzing</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/fuzzing/introduction.html" class="nav-list-link">Introduction to Clusterfuzz</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/fuzzing/configuring-clusterfuzz.html" class="nav-list-link">Configuring the lab's Clusterfuzz service</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/pages/guides/fuzzing/start-stop.html" class="nav-list-link">Start/stop the Service</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/pages/lab-equipment/lab-equipment.html" class="nav-list-link">Lab Equipment</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/pages/lab-equipment/iot-devices.html" class="nav-list-link">IoT Devices</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/lab-equipment/hacking-tools.html" class="nav-list-link">Hacking Tools</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/lab-equipment/computers.html" class="nav-list-link">Computers and hardware</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/lab-equipment/books.html" class="nav-list-link">Books</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/pages/previous-work.html" class="nav-list-link">Previous Work</a></li><li class="nav-list-item"><a href="http://localhost:4000/pages/contribute.html" class="nav-list-link">Contribute</a></li><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search NSE Lab" aria-label="Search NSE Lab" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/pages/guides/hacking_guides.html">Hacking Guides</a></li> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/pages/guides/radio/radio.html">Radio Hacking</a></li> <li class="breadcrumb-nav-list-item"><span>0x01 - Analyzing SDR</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="analyzing-sdr"> <a href="#analyzing-sdr" class="anchor-heading" aria-labelledby="analyzing-sdr"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Analyzing SDR </h1> <h2 id="1-software-defined-radio-sdr-internals"> <a href="#1-software-defined-radio-sdr-internals" class="anchor-heading" aria-labelledby="1-software-defined-radio-sdr-internals"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Software Defined Radio (SDR) internals </h2> <ul> <li>Devices communicate each other via radio signals</li> <li>Without SDR <ul> <li>different radio signal processing hardware is required</li> <li>for the devices which communicate with different frequency</li> </ul> </li> <li>Allows to change functionality without touching the SDR hardware (receiver/transmitter) <ul> <li>no longer need different SDR hardware for different devices</li> </ul> </li> <li>Allows to implement radio processing functionalities</li> <li> <p>Allows to work with an extremely large frequency range</p> </li> <li> <p>Logic</p> <div class="table-wrapper"><table> <tbody> <tr> <td>transmitter</td> <td>Wi-Fi router</td> </tr> <tr> <td>modulate</td> <td>data is modulated by the router with a carrier signal (of 2.4 GHz)</td> </tr> <tr> <td>transmit</td> <td>Wi-Fi router passes the final signal to air via antenna</td> </tr> <tr> <td>receiver</td> <td>wireless chip inside the laptop</td> </tr> <tr> <td>receive</td> <td>wireless chip receives signal</td> </tr> <tr> <td>demodulate</td> <td>signal is demodulated by the wireless chip to decode data to understandable format</td> </tr> </tbody> </table></div> <ul> <li>Baseband signal is carried by a higher frequency wave called the carrier signal</li> <li>Properties of final signal changes based on the properties of the carrier signal and the type of modulation</li> </ul> </li> <li>Transmitter <ul> <li>Generates an electric current which is to be transmitted</li> <li>Electric current emits the data which requires to be modulated</li> </ul> </li> <li>Modulation <ul> <li>noise reduction</li> <li>multiplexing</li> <li>working with various bandwidth and frequencies</li> <li>cable properties</li> <li>etc.</li> </ul> </li> <li> <p>Modulation types</p> <div class="table-wrapper"><table> <tbody> <tr> <td>Analog Modulation</td> <td>Amplitude, Frequency, SSB, and DSB modulation</td> </tr> <tr> <td>Digital Modulation</td> <td>ASK, FSK, PSK ,and QAM</td> </tr> </tbody> </table></div> </li> <li>Analog to Digital Converter (ADC) <ul> <li>Most of the real-world data collected is analog data</li> <li>Computers can understand digital data</li> <li>SDR hardware tools contain ADC</li> </ul> </li> <li>Other Terminology <ul> <li>Sample rate</li> <li>Fast Fourier Transform (FFT)</li> <li>Bandwidth</li> <li>Wavelength</li> <li>Frequency</li> <li>Antenna</li> <li>Gain</li> <li>Filters</li> </ul> </li> </ul> <h2 id="2-pentest-objectives"> <a href="#2-pentest-objectives" class="anchor-heading" aria-labelledby="2-pentest-objectives"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Pentest Objectives </h2> <ul> <li>Decode radio protocols</li> <li>Replay attack <ul> <li>if there is no verification, captured data can be replied without problem</li> <li>otherwise it is required jamming the signal and capturing an unused radio packet</li> </ul> </li> <li>Reverse engineer unknown protocol</li> </ul> <h2 id="3-tools"> <a href="#3-tools" class="anchor-heading" aria-labelledby="3-tools"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Tools </h2> <div class="table-wrapper"><table> <tbody> <tr> <td>OS</td> <td>Ubuntu as primary OS (not VM) recommended</td> </tr> <tr> <td>GNURadio</td> <td>digital and analog signal processing C++ library</td> </tr> <tr> <td>GQRX</td> <td>based on GNURadio library provides analysis of frequency spectrums in a GUI</td> </tr> <tr> <td>RTL-SDR</td> <td>only sniff (monitor) a wide range of frequency (not capable of transmitting data)</td> </tr> <tr> <td>HackRF</td> <td>open-source hardware allows to analyze radio and to transmit data</td> </tr> <tr> <td>Installation</td> <td>apt install gqrx gnuradio rtl-sdr hackrf</td> </tr> <tr> <td>Alternative installation</td> <td>https://github.com/csete/gqrx<br />https://wiki.gnuradio.org/index.php/InstallingGRFromSource<br />https://osmocom.org/projects/sdr/wiki/rtl-sdr<br />https://github.com/mossmann/hackrf/wiki/OperatingSystem-Tips#installing-hackrf-tools-manually</td> </tr> </tbody> </table></div> <div class="table-wrapper"><table> <tbody> <tr> <td>RTL-SDR</td> <td>500kHz - 1766 MHz</td> </tr> <tr> <td>HackRF</td> <td>1 MHz - 6 GHz</td> </tr> <tr> <td>LimeSDR</td> <td>100 kHz to 3.8 GHz</td> </tr> <tr> <td>Human ear</td> <td>20 Hz - 20kHz</td> </tr> <tr> <td>Wi-Fi &amp; BLE</td> <td>2.4 GHz</td> </tr> </tbody> </table></div> <h2 id="4-gnuradio"> <a href="#4-gnuradio" class="anchor-heading" aria-labelledby="4-gnuradio"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. GNURadio </h2> <ul> <li>Digital and analog signal processing C++ library <ul> <li>supports development in python</li> <li>supports RTL-SDR, HackRF, USRP, and more hardware</li> <li>GNURadio Companion is the GUI version <ul> <li>save workspace as a .grc file</li> </ul> </li> <li>GQRX is a GUI, based on GNURadio for frequency analysis</li> </ul> </li> <li>Allows <ul> <li>analyzing a captured signal</li> <li>performing demodulation</li> <li>extracting data from signals</li> <li>reversing unknown protocols, and more</li> </ul> </li> <li>Advanced usage <ul> <li>audio processing</li> <li>mobile communication analysis</li> <li>flight and satellite tracking</li> <li>RADAR systems</li> </ul> </li> <li>Homework: Create a transmitter (TCP Sink) and receiver (Scope Sink) via GNURadio Companion</li> </ul> <h2 id="5-identify-frequency-or-frequency-range-of-the-device"> <a href="#5-identify-frequency-or-frequency-range-of-the-device" class="anchor-heading" aria-labelledby="5-identify-frequency-or-frequency-range-of-the-device"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5. Identify frequency (or frequency range) of the device </h2> <ul> <li>Online search <ul> <li>look up the FCC ID of the device</li> <li>manufacturer website</li> <li>community forums</li> </ul> </li> <li>Visual inspection <ul> <li>external inspection <ul> <li>FCC ID might be found</li> </ul> </li> <li>internal inspection <ul> <li>operating frequency of the oscillator might be found (433 MHZ)</li> </ul> </li> </ul> </li> <li>Active scan <ul> <li> <p>connect hardware (i.e. RTL-SDR) to analysis computer</p> <p><code class="language-plaintext highlighter-rouge">lsusb</code></p> </li> <li> <p>run gqrx</p> <ul> <li>select device (i.e. RTL-SDR or any hardware under test)</li> </ul> </li> </ul> </li> </ul> <h2 id="6-capture-the-transmitted-data"> <a href="#6-capture-the-transmitted-data" class="anchor-heading" aria-labelledby="6-capture-the-transmitted-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6. Capture the transmitted data </h2> <ul> <li>Connect hardware (i.e. RTL-SDR) to analysis computer</li> <li>Start related utility (i.e. rtl_433 utility in RTL-SDR)</li> <li> <p>Usage: <code class="language-plaintext highlighter-rouge">rtl_433 -f &lt;axact frequency&gt;</code></p> <p><code class="language-plaintext highlighter-rouge">rtl_433 -f 433920000</code></p> </li> <li>Press any buttons on the device to change transmitted data</li> <li>Observe utility (i.e. rtl_433) output</li> </ul> <h2 id="7-replay-captured-radio-known-as-replay-attack"> <a href="#7-replay-captured-radio-known-as-replay-attack" class="anchor-heading" aria-labelledby="7-replay-captured-radio-known-as-replay-attack"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7. Replay captured radio (known as Replay attack) </h2> <ul> <li>If the frequency is commonly known, transmitting module can be found easily</li> <li> <p>Otherwise HackRF is required</p> </li> <li>Method 1: 433 MHz transmitter + Arduino Nano <ul> <li>Step 1: 433MHZ receiver is connected to the Arduino board <ul> <li>Arduino 5V –&gt; VCC of both transmitter and receiver</li> <li>Arduino GND –&gt; GND of both transmitter and receiver</li> <li>Arduino D10 –&gt; Data of transmitter</li> <li>Arduino D2 –&gt; Data of receiver</li> </ul> </li> <li>Step 2: Import Arduino library RC_Switch to Arduino IDE <ul> <li>https://github.com/sui77/rc-switch</li> <li>it transmits data on 433 MHz</li> </ul> </li> <li>Step 3: Start receiver <ul> <li>execute ReceiveAdvanced implementation</li> <li>https://github.com/sui77/rc-switch/blob/master/examples/ReceiveDemo_Advanced/</li> <li>it starts serial monitor at 9600 baud rate</li> </ul> </li> <li>Step 4: Transmit data <ul> <li>press any buttons of the device</li> </ul> </li> <li>Step 5: Capture data <ul> <li>serial terminal will show the captured data</li> <li>save the captured data</li> </ul> </li> <li>Step 6: Replay data <ul> <li>execute SendDemo implementation</li> <li>https://github.com/sui77/rc-switch/tree/master/examples/SendDemo</li> <li>paste the captured data as parameter to the sendTriState() method</li> </ul> </li> </ul> </li> <li>Method 2: Hack RF <ul> <li> <p>connect it to analysis computer</p> <p><code class="language-plaintext highlighter-rouge">hackrf_info</code></p> </li> <li> <p>store packet captures (sample rate, frequency, capture file)</p> <p><code class="language-plaintext highlighter-rouge">hackrf_transfer –s 5 –f 433920000 –r radio.dump</code></p> </li> <li> <p>replay (sample rate, frequency, capture file)</p> <p><code class="language-plaintext highlighter-rouge">hackrf_transfer –s 5 –f 433920000 –t radio.dump</code></p> </li> </ul> </li> </ul> <h2 id="8-decode-data"> <a href="#8-decode-data" class="anchor-heading" aria-labelledby="8-decode-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8. Decode data </h2> <ul> <li>When the captured data is not understandable, it is most likely to be encoded (modulated)</li> <li>GNURadio companion <ul> <li>Step 1 <ul> <li>set the ‘Generate Options’ to WX</li> <li>change the ‘sample rate’ to 1M</li> </ul> </li> <li>Step 2 <ul> <li>move ‘RTL-SDR’ block and set frequency to 433.92 MHz</li> <li>output type is ‘Complex float32’, we need to convert it to make data understandable</li> </ul> </li> <li>Step 3 <ul> <li>move ‘Complex to Mag^2’</li> <li>connect ‘RTL-SDR’ to ‘Complex to Mag^2’</li> </ul> </li> <li>Step 4 <ul> <li>amplify the signal via ‘Multiply Const’ and set constant value to 20</li> <li>connect ‘Complex to Mag^2’ to ‘Multiply Const’</li> </ul> </li> <li>Step 5 <ul> <li>move ‘Wav File Sink’ and set output location</li> <li>to save the output result to a wav file</li> <li>connect ‘Multiply Const’ to ‘Wav File Sink’</li> </ul> </li> <li>Step 6 <ul> <li>move ‘WX GUI FFT Sink’</li> <li>connect ‘RTL-SDR’ to ‘WX GUI FFT Sink’</li> </ul> </li> <li>Step 7 <ul> <li>run</li> <li>take the saved output wav file for decoding</li> </ul> </li> </ul> </li> <li>Audacity <ul> <li>a tool for audio analysis</li> <li>without the Multiply Const the signal is weak, so the wav file resulted in meaningless data</li> <li>identify modulation type <ul> <li>On-Off Keying (OOK) <ul> <li>a form of Amplitude-Shift Keying (ASK) modulation</li> <li>shorter pulse is 0 and longer pulse is 1</li> </ul> </li> </ul> </li> <li>convert all pulses to corresponding 0 or 1</li> <li>decode binary to decimal</li> <li>done</li> </ul> </li> </ul> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Division of Network and Systems Engineering | KTH</p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
